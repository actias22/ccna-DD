<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <title>問題一覧</title>
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      margin: 10px 10px;
    }

    a {
      text-decoration: none;
      color: blue;
    }

    a:hover {
      text-decoration: underline;
    }

    /* ホームボタンのスタイル */
    #home {
      position: absolute;
      top: 58px;
      left: 200px;
      padding: 8px 12px;
      font-size: 14px;
      border: 2px solid #333;
      border-radius: 5px;
      background-color: white;
      color: #333;
      cursor: pointer;
    }

    #home:hover {
      background-color: #f0f0f0;
    }

    /* 最初の問題に戻るボタンのスタイル（インラインから移動・修正） */
    #restart-btn {
      position: absolute;
      top: 58px; /* ホームボタンと高さを揃えました */
      left: 40px;
      padding: 8px 12px;
      font-size: 14px;
      border: 2px solid #333;
      border-radius: 5px;
      background-color: white;
      color: #333;
      cursor: pointer;
    }

    #restart-btn:hover {
      background-color: #f0f0f0;
    }

    /* ボタンがタイトルに被らないよう余白を設定 */
    h1 {
      margin-top: 80px; 
    }
  </style>
</head>

<body>

  <a href="index.html">
    <button id="home">ホームに戻る</button>
  </a>

  <button id="restart-btn">最初の問題に戻る</button>

  <h1>問題一覧 (全 <span id="question-count">0</span> 問)</h1>
  
  <ul id="problem-list"></ul>

  <script src="js/quiz_data.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ② 読み込んだ quizData を使ってリストを自動作成する
      const list = document.getElementById("problem-list");
      const countSpan = document.getElementById("question-count");

      // 問題の総数を表示
      if (typeof quizData !== 'undefined' && countSpan) {
        countSpan.textContent = quizData.length;
      }

      // 自動で <li><a href="...">Question XX</a></li> を作成
      quizData.forEach((q, index) => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = `quiz.html?q=${index}`;
        a.textContent = q.question; 
        li.appendChild(a);
        list.appendChild(li);
      });
    });

    // 最初の問題に戻るボタンの処理（そのまま維持）
    document.getElementById("restart-btn").addEventListener("click", () => {
      localStorage.removeItem("quizAnswers"); // 回答データを削除
      window.location.href = "quiz.html";     // 最初の問題へ遷移
    });
  </script>

</body>

</html>
